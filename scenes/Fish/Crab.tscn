[gd_scene load_steps=7 format=3 uid="uid://bi0ro5luavxdu"]

[ext_resource type="Script" uid="uid://bh77r8leevuyk" path="res://scripts/States/state_machine.gd" id="1_0uds8"]
[ext_resource type="Texture2D" uid="uid://cu4x5sphqq51h" path="res://assets/fish/crab.png" id="1_47adp"]
[ext_resource type="Script" uid="uid://cnc3hr5cjrj6p" path="res://scripts/crab.gd" id="1_rvtk1"]
[ext_resource type="Script" uid="uid://dij5f5oxqe2as" path="res://scripts/States/crab_wander_state.gd" id="2_fj44x"]
[ext_resource type="Script" uid="uid://bycubtbusx4jl" path="res://scripts/health_component.gd" id="2_vn8wo"]
[ext_resource type="Script" uid="uid://dll8akdyj4vkw" path="res://scripts/States/crab_chase_state.gd" id="4_0jwad"]

[node name="Crab" type="Node2D" node_paths=PackedStringArray("health") groups=["Fish"]]
z_index = -1
script = ExtResource("1_rvtk1")
health = NodePath("healthComponent")

[node name="healthComponent" type="Node2D" parent="." node_paths=PackedStringArray("sprite")]
script = ExtResource("2_vn8wo")
maxHealth = 10
sprite = NodePath("../sprite2D")
metadata/_custom_type_script = "uid://bycubtbusx4jl"

[node name="state_machine" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
script = ExtResource("1_0uds8")
initial_state = NodePath("wander")

[node name="wander" type="Node" parent="state_machine" node_paths=PackedStringArray("crab")]
script = ExtResource("2_fj44x")
crab = NodePath("../..")

[node name="chase" type="Node" parent="state_machine" node_paths=PackedStringArray("crab")]
script = ExtResource("4_0jwad")
crab = NodePath("../..")

[node name="sprite2D" type="Sprite2D" parent="."]
use_parent_material = true
position = Vector2(0, -16)
texture = ExtResource("1_47adp")
